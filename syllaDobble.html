<!DOCTYPE html>
<html lang="">

<head>
    <title>Log-obble</title>
    <link rel="stylesheet" href="syllaDobbleStyles.css">
    <script src="syllaDobbleScripts.js" type="module"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"
        integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <script type="module">
        import { openModal, getValues, loadCard, removeCard, resetGlobals, stampaPagine, saveCards, download, uploadCards, clearTemplate, updateCard, closeModal, logCards } from "./syllaDobbleScripts.js";
        module.openModal = openModal;
        module.getValues = getValues;
        module.loadCard = loadCard;
        module.removeCard = removeCard;
        module.resetGlobals = resetGlobals;
        module.stampaPagine = stampaPagine;
        module.saveCards = saveCards;
        module.download = download;
        module.uploadCards = uploadCards;
        module.clearTemplate = clearTemplate;
        module.updateCard = updateCard;
        module.openModal = openModal;
        module.closeModal = closeModal;
        module.logCards = logCards;
    </script>

    <script type="text/javascript">
        const module = {};
    </script>

</head>

<body>
    <div class="page">
        <div class="header no-print">
            <span id="pageTitle">Log-ooble!</span>
        </div>

        <script>
            let delay = 200;
            let title = document.getElementById("pageTitle");
            title.innerHTML = "LOG-OBBLE!"
                .split("")
                .map(letter => {
                    // console.log(letter);
                    return `<span>` + letter + `</span>`;
                })
                .join("");

            Array.from(title.children).forEach((span, index) => {
                setTimeout(() => {
                    span.classList.add("wavy");
                }, index * 60 + delay);
            });


        </script>


        <!-- <svg class="no-print" height="1" width="100%" xmlns="http://www.w3.org/2000/svg">
            <line x1="0" y1="0" x2="100%" y2="0" style="stroke:rgba(102, 102, 102, 0.712);stroke-width:3" />
            Sorry, your browser does not support inline SVG.
        </svg> -->

        <div class="templatingContainer no-print">
            <div class="templateCardContainer">
                <div class="buttonSect no-print">
                    <div class="subtitle">
                        <span>Impostazioni carta da aggiungere</span>
                    </div>
                    <div class="undertitle">
                        <span>Premi sulle opzioni per cambiare la carta</span>
                    </div>
                    <div class="settingsSect">
                        <div>
                            <label for="cardBg">Sfondo</label>
                            <input type="color" id="cardBg" name="cardBg" value="#FFFFFF"
                                onchange="module.updateCard(this)" />
                        </div>
                        <div>
                            <label for="cardBorder">Bordo</label>
                            <input type="color" id="cardBorder" name="cardBorder" value="#000000"
                                onchange="module.updateCard(this)" />
                        </div>
                        <div>
                            <label for="cardGlobalTextCol">Colore testo</label>
                            <input type="color" id="cardGlobalTextCol" name="cardGlobalTextCol" value="#000000"
                                onchange="module.updateCard(this)" />
                        </div>
                        <div>
                            <div><span class="smallText">Reset defaults <i class="fas fa-info-circle"
                                        title="Reimposta valori predefiniti dei campi per il template della carta"></i></span>
                            </div>
                            <input type="button" value="Reset" class="resetBtn" onclick="module.resetGlobals()" />
                        </div>
                    </div>

                </div>
                <div class="templateCardSect cardsSect no-print">
                    <form action="#">
                        <div class="card templateCard" id="templateCard">
                            <div class="cardRowTop">
                                <input type="text" class="templateCard" id="inTopRowL" name="inTopRowL">
                                <input type="color" class="textColorPicker" id="colTopL" name="colTopL">
                                <input type="text" class="templateCard" id="inTopRowM" name="inTopRowM">
                                <input type="color" class="textColorPicker" id="colTopM" name="colTopM">
                                <input type="text" class="templateCard" id="inTopRowR" name="inTopRowR">
                                <input type="color" class="textColorPicker" id="colTopR" name="colTopR">
                            </div>

                            <div class="cardRowMid">
                                <input type="text" class="templateCard" id="inMidRowL" name="inMidRowL">
                                <input type="color" class="textColorPicker" id="colMidL" name="colMidL">
                                <input type="text" class="templateCard" id="inMidRowM" name="inMidRowM">
                                <input type="color" class="textColorPicker" id="colMidM" name="colMidM">
                                <input type="text" class="templateCard" id="inMidRowR" name="inMidRowR">
                                <input type="color" class="textColorPicker" id="colMidR" name="colMidR">
                            </div>

                            <div class="cardRowBottom">
                                <input type="text" class="templateCard" id="inBotRowL" name="inBotRowL">
                                <input type="color" class="textColorPicker" id="colBotL" name="colBotL">
                                <input type="text" class="templateCard" id="inBotRowM" name="inBotRowM">
                                <input type="color" class="textColorPicker" id="colBotM" name="colBotM">
                                <input type="text" class="templateCard" id="inBotRowR" name="inBotRowR">
                                <input type="color" class="textColorPicker" id="colBotR" name="colBotR">
                            </div>
                        </div>
                    </form>
                    <div class="actionButtonsContainer">
                        <div class="actionButtons">
                            <button onclick="module.getValues()">Aggiungi carta</button>
                            <button onclick="module.stampaPagine()">Stampa carte</button>
                            <!-- SAVE BUTTON -->
                            <div>
                                <div><span style="text-align: start;" class="smallText">Salva carte <i
                                            class="fas fa-info-circle"
                                            title="Salva le carte presenti nella sezione 'LE TUE CARTE'"></i></span>
                                </div>
                                <input type="button" value="Salva" class="saveBtn" onclick="module.saveCards()" />
                            </div>
                            <!-- UPLOAD BUTTON -->
                            <div>
                                <div><span style="text-align: start;" class="smallText">Carica carte <i
                                            class="fas fa-info-circle"
                                            title="Seleziona il file salvato in precedenza per caricarle nella sezione 'LE TUE CARTE'"></i></span>
                                </div>
                                <input type="file" id="cardsUpload" onchange="module.uploadCards(this)" />
                            </div>
                            <button style="display: none" onclick="module.logCards()">LOG CARDS</button>


                        </div>
                    </div>
                </div>
            </div>


            <div class="descriptionSection">
                <svg height="500" width="1" xmlns="http://www.w3.org/2000/svg">
                    <line x1="0" y1="0" x2="0" y2="100%" style="stroke:rgba(102, 102, 102, 0.712);stroke-width:3" />
                    Sorry, your browser does not support inline SVG.
                </svg>
                <div class="instructionSect">
                    <div class="subtitle">
                        <span>Cosa puoi fare con questo tool:</span>
                    </div>
                    <div class="undertitle">
                        <span>Premi sulle opzioni per aprire un tutorial di ognuna</span>
                    </div>
                    <ul>
                        <li><button onclick="module.openModal('modal_createTutorial', modal_tutorial)"
                                id="createTutorial">Creare
                                carte</button></li>
                        <li><button onclick="module.openModal('modal_saveTutorial', modal_tutorial)"
                                id="saveTutorial">Salvare
                                carte</button></li>
                        <li><button onclick="module.openModal('modal_loadTutorial', modal_tutorial)"
                                id="saveTutorial">Caricare carte</button></li>
                        <li><button onclick="module.openModal('modal_printTutorial', modal_tutorial)"
                                id="saveTutorial">Stampare carte</button></li>
                    </ul>

                </div>
            </div>
        </div>

        <!-- <svg class="no-print" height="1" width="100%" xmlns="http://www.w3.org/2000/svg">
            <line x1="0" y1="0" x2="100%" y2="0" style="stroke:rgba(102, 102, 102, 0.712);stroke-width:3" />
            Sorry, your browser does not support inline SVG.
        </svg> -->

        <div class="cardsContainer">
            <div class="loadedCardsSect">
                <div class="title no-print">
                    <h3>LE TUE CARTE</h3>
                </div>

            </div>

            <div class="cardsSect" id="cardsSectId">

            </div>
        </div>
    </div>

    <dialog class="dialogContainer" id="messageDialog">


    </dialog>

    <div id="modal_tutorial" class="modal">
        <!-- Modal content -->
    </div>
</body>

</html>